{"version":3,"sources":["webpack:///./src/components/Card.tsx","webpack:///./src/store/index.ts","webpack:///./src/components/Hits.tsx","webpack:///./src/SimpleForm.tsx","webpack:///./src/App.tsx","webpack:///./src/index.js"],"names":["title","text","image","src","alt","setHits","setError","hitsReducer","hits","error","loading","type","state","action","payload","reducer","devTools","dispatch","fetchHits","q","a","get","headers","response","data","fetchHitsThunk","debouncedFetchHits","onChange","e","target","value","style","display","flexWrap","map","hit","key","result","id","width","full_title","song_art_image_url","validators","onSubmit","useCallback","currentTarget","name","someItems","Item","store","item","v","createElement","document","getElementById"],"mappings":"8KAiBe,EATe,SAAC,G,IAAEA,EAAA,EAAAA,MAAOC,EAAA,EAAAA,KAAMC,EAAA,EAAAA,MAAY,OACxD,6BACE,4BAAKF,GACL,2BAAIC,GACJ,yBAAKE,IAAKD,EAAOE,IAAI,W,s3CCuBnB,EAAY,YAAqB,cACjCC,EAAU,YAAoB,YAC9BC,EAAW,YAAqB,aAiBhCC,EAAc,YAzBQ,CAC1BC,KAAM,GACNC,MAAO,KACPC,SAAS,KAsBmC,MAC3C,EAAUC,MAAO,SAACC,GACjBA,EAAMF,SAAU,GAElB,EAACL,EAAQM,MAAO,SAACC,EAAOC,GACtBD,EAAMJ,KAAOK,EAAOC,QACpBF,EAAMF,SAAU,GAElB,EAACJ,EAASK,MAAO,SAACC,EAAOC,GACvBD,EAAMH,MAAQI,EAAOC,QACrBF,EAAMF,SAAU,G,IAWL,EAND,YAAe,CAC3BK,QAASR,EACTS,UAAU,ICxBG,EAzCQ,WACrB,IAAMC,EAAW,cACXC,EAAY,eAAkB,SAACC,GACnCF,ED8B0B,SAACE,GAAc,gBAC3CF,GAA4E,0C,wDAEzD,O,sBAAA,GAAM,EAAAG,EAAMC,IAAI,0CAA0CF,EAAK,CAC9EG,QAAS,CACP,kBAAmB,wBACnB,iBAAkB,yD,cAHhBC,EAAW,SAMjBN,EAASZ,EAAQkB,EAASC,KAAKD,SAASf,O,6BAExCS,EAASX,EAAS,c,+BCzCTmB,CAAeN,MACvB,CAACF,IACES,EAAqB,IAASR,EAAW,KACzCS,EAAW,eAAkB,SAACC,GAClCF,EAAmBE,EAAEC,OAAOC,SAC3B,IACGtB,EAAO,aAAY,SAACI,GAAiB,OAAAA,EAAMJ,QACjD,OACE,gCACE,yBAAOmB,SAAUA,EAAUhB,KAAK,SAChC,uBAAKoB,MAAO,CACVC,QAAS,OACTC,SAAU,SAIRzB,EAAK0B,KAAI,SAACC,GAAQ,OAChB,uBACEC,IAAKD,EAAIE,OAAOC,GAChBP,MAAO,CAAEQ,MAAO,MAEhB,yBAAIJ,EAAIE,OAAOG,YACf,uBACET,MAAO,CACLQ,MAAO,KAETpC,IAAKgC,EAAIE,OAAOI,mBAChBrC,IAAI,gBCbL,EAfqB,SAAC,G,IAAEsC,EAAA,EAAAA,WAC/BC,EAAW,IAAMC,aAAY,SAAChB,GAClCc,EAAW,GAAGd,EAAEiB,cAAcf,SAC7B,IACH,OACE,0BAAMa,SAAUA,GACd,sCACA,2BAAOhC,KAAK,OAAOmC,KAAK,QACxB,sCACA,2BAAOnC,KAAK,SAASmC,KAAK,QAC1B,4BAAQnC,KAAK,UAAQ,YCXrBoC,EAAY,CAChB,SACA,SACA,UAGIC,EAAO,SAAC,G,IAAEF,EAAA,EAAAA,KAA2B,OAAC,4BAAKA,IAelC,EAbH,WAAM,OAChB,kBAAC,IAAQ,CAACG,MAAO,GACf,4BACGF,EAAUb,KAAI,SAACgB,GAAS,OACvB,kBAACF,EAAI,CAACZ,IAAKc,EAAMJ,KAAMI,OAEzB,kBAAC,EAAI,CAACjD,KAAK,gcAAgcD,MAAM,aAAaE,MAAM,OACpe,kBAAC,EAAU,CAACwC,WAAY,CAAC,WAAM,UAAM,SAACS,GAAM,MAAa,iBAANA,MACnD,kBAAC,EAAI,SCnBX,iBAAO,IAAMC,cAAc,GAAMC,SAASC,eAAe,W","file":"main.6bd0d1591758c9a14156.js","sourcesContent":["import React from 'react';\n\ninterface Props {\n  title: string;\n  text: string;\n  image: string;\n}\n\nconst Card: React.FC<Props> = ({ title, text, image }) => (\n  <div>\n    <h3>{title}</h3>\n    <p>{text}</p>\n    <img src={image} alt=\"test\" />\n  </div>\n);\n\n\nexport default Card;\n","import axios from 'axios';\n\nimport {\n  configureStore,\n  createAction,\n  createReducer,\n  PayloadAction,\n} from '@reduxjs/toolkit';\nimport { Dispatch } from 'react';\n\nexport interface State {\n  hits: Hit[];\n  error: string | null;\n  loading: boolean;\n}\n\ntype HitType = 'song' | 'album' | 'artist'\n\ninterface Hit {\n  highlights: [];\n  index: string;\n  type: HitType;\n  result: {\n    id: string;\n    full_title: string;\n    song_art_image_url: string;\n  };\n}\n\nconst initialState: State = {\n  hits: [],\n  error: null,\n  loading: false,\n};\n\nconst fetchHits = createAction<string>('fetch hits');\nconst setHits = createAction<Hit[]>('set hits');\nconst setError = createAction<string>('set error');\n\nexport const fetchHitsThunk = (q: string) => async (\n  dispatch: Dispatch<ReturnType<typeof setHits> | ReturnType<typeof setError>>) => {\n  try {\n    const response = await axios.get(`https://genius.p.rapidapi.com/search?q=${q}`, {\n      headers: {\n        'x-rapidapi-host': 'genius.p.rapidapi.com',\n        'x-rapidapi-key': '4138f1021fmsh75636ffd9147d90p17d1a5jsn8b3645b2de09',\n      },\n    });\n    dispatch(setHits(response.data.response.hits));\n  } catch (e) {\n    dispatch(setError('someError'));\n  }\n};\n\nconst hitsReducer = createReducer(initialState, {\n  [fetchHits.type]: (state) => {\n    state.loading = true;\n  },\n  [setHits.type]: (state, action: PayloadAction<Hit[]>) => {\n    state.hits = action.payload;\n    state.loading = false;\n  },\n  [setError.type]: (state, action: PayloadAction<string>) => {\n    state.error = action.payload;\n    state.loading = false;\n  },\n});\n\n\nconst store = configureStore({\n  reducer: hitsReducer,\n  devTools: true,\n});\n\n\nexport default store;\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport debounce from 'lodash/debounce';\nimport { State, fetchHitsThunk } from '../store';\n\n\nconst Hits: React.FC = () => {\n  const dispatch = useDispatch();\n  const fetchHits = React.useCallback((q: string) => {\n    dispatch(fetchHitsThunk(q));\n  }, [dispatch]);\n  const debouncedFetchHits = debounce(fetchHits, 300);\n  const onChange = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    debouncedFetchHits(e.target.value);\n  }, []);\n  const hits = useSelector((state: State) => state.hits);\n  return (\n    <>\n      <input onChange={onChange} type=\"text\" />\n      <div style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n      }}\n      >\n        {\n          hits.map((hit) => (\n            <div\n              key={hit.result.id}\n              style={{ width: 250 }}\n            >\n              <p>{hit.result.full_title}</p>\n              <img\n                style={{\n                  width: 210,\n                }}\n                src={hit.result.song_art_image_url}\n                alt=\"test\"\n              />\n            </div>\n          ))\n      }\n      </div>\n    </>\n\n  );\n};\n\nexport default Hits;\n","import React from 'react';\n\ntype Validator = (value: string) => boolean\n\ninterface Props {\n    validators: Validator[];\n}\n\nconst SimpleForm: React.FC<Props> = ({ validators }) => {\n  const onSubmit = React.useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    validators[1](e.currentTarget.value);\n  }, []);\n  return (\n    <form onSubmit={onSubmit}>\n      <label>foo</label>\n      <input type=\"text\" name=\"foo\" />\n      <label>bar</label>\n      <input type=\"number\" name=\"bar\" />\n      <button type=\"submit\">submit</button>\n    </form>\n  );\n};\n\nexport default SimpleForm;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport Card from './components/Card';\nimport Hits from './components/Hits';\nimport SimpleForm from './SimpleForm';\nimport store from './store';\n\nconst someItems = [\n  'item 1',\n  'item 2',\n  'item 3',\n];\n\nconst Item = ({ name }: {name: string}) => (<li>{name}</li>);\n\nconst App = () => (\n  <Provider store={store}>\n    <ul>\n      {someItems.map((item) => (\n        <Item key={item} name={item} />\n      ))}\n      <Card text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\" title=\"Test title\" image=\"no\" />\n      <SimpleForm validators={[() => true, (v) => typeof v === 'string']} />\n      <Hits />\n    </ul>\n  </Provider>\n);\n\nexport default App;\n","import { render } from 'react-dom';\nimport React from 'react';\nimport App from './App';\n\nrender(React.createElement(App), document.getElementById('root'));\n"],"sourceRoot":""}