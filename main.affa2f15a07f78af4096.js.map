{"version":3,"sources":["webpack:///./src/components/song.tsx","webpack:///./src/components/song-list.tsx","webpack:///./src/store/song/actions.ts","webpack:///./src/containers/song-list-container.ts","webpack:///./src/components/hit.tsx","webpack:///./src/components/hit-list.tsx","webpack:///./src/store/hit/actions.ts","webpack:///./src/containers/hits-list-container.ts","webpack:///./src/api.ts","webpack:///./src/store/hit/sagas.ts","webpack:///./src/store/song/sagas.ts","webpack:///./src/store/hit/reducer.ts","webpack:///./src/store/song/reducer.ts","webpack:///./src/store/root-reducer.ts","webpack:///./src/store/index.ts","webpack:///./src/store/root-saga.ts","webpack:///./src/App.tsx","webpack:///./src/index.js"],"names":["title","imageUri","src","alt","songs","loading","fetchSongsByArtist","artistId","onClick","type","map","song","key","song_art_image_url","searchSongsByArtist","setSongs","state","list","dispatch","style","width","hits","fetchHits","debouncedFetchHits","onChange","e","target","value","display","flexWrap","hit","result","primary_artist","id","full_title","setHits","setError","q","api","a","create","baseURL","headers","searchHits","get","fetchHitsWorker","payload","response","data","searchSongsByArtistWorker","console","info","error","action","sagaMiddleware","store","reducer","devTools","middleware","run","createElement","document","getElementById"],"mappings":"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","file":"main.affa2f15a07f78af4096.js","sourcesContent":["import * as React from 'react';\n\nexport interface Props {\n    title: string;\n    imageUri: string;\n}\n\nconst Song: React.FC<Props> = ({ title, imageUri }) => (\n  <div>\n    <p>{title}</p>\n    <img src={imageUri} alt={title} />\n  </div>\n);\n\nexport default Song;\n","import * as React from 'react';\nimport { Song as SongType } from '../models/song';\nimport Song from './song';\n\nexport interface StateProps {\n    songs: SongType[];\n    loading: boolean;\n}\n\nexport interface OwnProps {\n    artistId: string;\n}\n\nexport interface DispatchProps {\n    fetchSongsByArtist(artistId: string): void;\n}\n\nconst SongList: React.FC<StateProps & DispatchProps & OwnProps> = ({\n  songs, loading, fetchSongsByArtist, artistId,\n}) => {\n  const onClick = React.useCallback(() => {\n    fetchSongsByArtist(artistId);\n  }, []);\n  return (\n    <>\n      <button onClick={onClick} type=\"button\">Show Artist Songs</button>\n      {loading ? (<p>Loading ...</p>) : (\n        <ul>\n          {songs.map((song) => (\n            <Song\n              key={song.title}\n              title={song.title}\n              imageUri={song.song_art_image_url}\n            />\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\n\nexport default SongList;\n","import { createAction } from '@reduxjs/toolkit';\nimport { Song } from '../../models/song';\n\nexport const searchSongsByArtist = createAction<string>('search song by artist');\nexport const setSongs = createAction<Song[]>('set songs');\n","import { MapStateToProps, MapDispatchToProps, connect } from 'react-redux';\nimport SongList, { StateProps, OwnProps, DispatchProps } from '../components/song-list';\nimport { AppState } from '../store';\nimport { searchSongsByArtist } from '../store/song/actions';\n\n\nconst mapStateToProps: MapStateToProps<StateProps, OwnProps, AppState> = (state) => ({\n  songs: state.songs.list,\n  loading: state.songs.loading,\n});\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, OwnProps> = (dispatch) => ({\n  fetchSongsByArtist: (artistId: string) => dispatch(searchSongsByArtist(artistId)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SongList);\n","import * as React from 'react';\nimport SongList from '../containers/song-list-container';\n\ninterface Props {\n    artistId: string;\n    imageUri: string;\n    title: string;\n}\n\nconst Hit: React.FC<Props> = ({ artistId, imageUri, title }) => (\n  (\n    <div\n      style={{ width: 250 }}\n    >\n      <p>{title}</p>\n      <img\n        style={{\n          width: 210,\n        }}\n        src={imageUri}\n        alt=\"test\"\n      />\n      <SongList artistId={artistId} />\n    </div>\n  )\n);\n\n\nexport default Hit;\n","import * as React from 'react';\nimport debounce from 'lodash/debounce';\nimport { Hit as HitType } from '../models/hit';\nimport Hit from './hit';\n\nexport interface StateProps {\n  hits: HitType[];\n  loading: boolean;\n}\n\nexport interface DispatchProps {\n  fetchHits(q: string): void;\n}\n\n\nconst HitsList: React.FC<StateProps & DispatchProps> = ({ hits, fetchHits, loading }) => {\n  const debouncedFetchHits = debounce(fetchHits, 300);\n  const onChange = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    debouncedFetchHits(e.target.value);\n  }, []);\n  return (\n    <>\n      <input onChange={onChange} type=\"text\" />\n      {loading ? (<p>Loading...</p>) : (\n        <div style={{\n          display: 'flex',\n          flexWrap: 'wrap',\n        }}\n        >\n          {\n          hits.map((hit) => (\n            <Hit\n              artistId={hit.result.primary_artist.id}\n              key={hit.result.id}\n              title={hit.result.full_title}\n              imageUri={hit.result.song_art_image_url}\n            />\n          ))\n      }\n        </div>\n\n      )}\n    </>\n\n  );\n};\n\nexport default HitsList;\n","import { createAction } from '@reduxjs/toolkit';\nimport { Hit } from '../../models/hit';\n\nexport const fetchHits = createAction<string>('fetch hits');\nexport const setHits = createAction<Hit[]>('set hits');\nexport const setError = createAction<string>('set error');\n","import { MapStateToProps, MapDispatchToProps, connect } from 'react-redux';\nimport HitsList, { StateProps, DispatchProps } from '../components/hit-list';\nimport { fetchHits } from '../store/hit/actions';\nimport { AppState } from '../store';\n\nconst mapStateToProps: MapStateToProps<StateProps, {}, AppState> = (state) => ({\n  hits: state.hits.hits,\n  loading: state.hits.loading,\n});\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, {}> = (dispatch) => ({\n  fetchHits: (q: string) => dispatch(fetchHits(q)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HitsList);\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://genius.p.rapidapi.com',\n  headers: {\n    'x-rapidapi-host': 'genius.p.rapidapi.com',\n    'x-rapidapi-key': '4138f1021fmsh75636ffd9147d90p17d1a5jsn8b3645b2de09',\n  },\n});\n\nexport const searchHits = (q: string) => api.get(`/search?q=${q}`);\nexport const searchSongsByArtist = (artistId: string) => api.get(`artists/${artistId}/songs`);\n","import { call, put } from 'redux-saga/effects';\nimport { setHits, setError, fetchHits } from './actions';\nimport { searchHits } from '../../api';\n\nexport function* fetchHitsWorker({ payload }: ReturnType<typeof fetchHits>) {\n  try {\n    const response = yield call(searchHits, payload);\n    yield put(setHits(response.data.response.hits));\n  } catch (e) {\n    yield put(setError('someError'));\n  }\n}\n","import { call, put } from 'redux-saga/effects';\nimport { searchSongsByArtist, setSongs } from './actions';\nimport * as api from '../../api';\n\nexport function* searchSongsByArtistWorker({ payload }: ReturnType<typeof searchSongsByArtist>) {\n  try {\n    const response = yield call(api.searchSongsByArtist, payload);\n    yield put(setSongs(response.data.response.songs));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.info(e);\n  }\n}\n","import { createReducer, PayloadAction } from '@reduxjs/toolkit';\nimport { fetchHits, setHits, setError } from './actions';\nimport { Hit } from '../../models/hit';\n\nexport interface HitsState {\n    hits: Hit[];\n    error: string | null;\n    loading: boolean;\n  }\n\nexport const initialState: HitsState = {\n  hits: [],\n  error: null,\n  loading: false,\n};\n\nconst hitsReducer = createReducer(initialState, {\n  [fetchHits.type]: (state) => {\n    state.loading = true;\n  },\n  [setHits.type]: (state, action: PayloadAction<Hit[]>) => {\n    state.hits = action.payload;\n    state.loading = false;\n  },\n  [setError.type]: (state, action: PayloadAction<string>) => {\n    state.error = action.payload;\n    state.loading = false;\n  },\n});\n\nexport default hitsReducer;\n","import { createReducer, PayloadAction } from '@reduxjs/toolkit';\nimport { Song } from '../../models/song';\nimport { searchSongsByArtist, setSongs } from './actions';\n\nexport interface SongsState {\n    list: Song[];\n    loading: boolean;\n}\n\nexport const initialState: SongsState = {\n  list: [],\n  loading: false,\n};\n\nconst reducer = createReducer(initialState, {\n  [searchSongsByArtist.type]: (state) => {\n    state.loading = true;\n  },\n  [setSongs.type]: (state, action: PayloadAction<Song[]>) => {\n    state.list = action.payload;\n    state.loading = false;\n  },\n});\n\nexport default reducer;\n","import { combineReducers } from 'redux';\nimport hits from './hit/reducer';\nimport songs from './song/reducer';\n\nexport default combineReducers({\n  hits,\n  songs,\n});\n","import createSagaMiddleware from 'redux-saga';\nimport {\n  configureStore,\n  getDefaultMiddleware,\n} from '@reduxjs/toolkit';\nimport rootSaga from './root-saga';\nimport rootReducer from './root-reducer';\n\n\nconst sagaMiddleware = createSagaMiddleware();\n\n\nconst store = configureStore({\n  reducer: rootReducer,\n  devTools: true,\n  middleware: [...getDefaultMiddleware(), sagaMiddleware],\n});\n\n\nexport type AppState = ReturnType<typeof rootReducer>\n\nsagaMiddleware.run(rootSaga);\n\n\nexport default store;\n","import { all, takeLatest } from 'redux-saga/effects';\nimport { fetchHitsWorker } from './hit/sagas';\nimport { fetchHits } from './hit/actions';\nimport { searchSongsByArtist } from './song/actions';\nimport { searchSongsByArtistWorker } from './song/sagas';\n\nexport default function* rootSaga() {\n  yield all([\n    takeLatest(fetchHits.type, fetchHitsWorker),\n    takeLatest(searchSongsByArtist.type, searchSongsByArtistWorker),\n  ]);\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport Hits from './containers/hits-list-container';\nimport store from './store';\n\nconst App = () => (\n  <Provider store={store}>\n    <Hits />\n  </Provider>\n);\n\nexport default App;\n","import { render } from 'react-dom';\nimport React from 'react';\nimport App from './App';\n\nrender(React.createElement(App), document.getElementById('root'));\n"],"sourceRoot":""}